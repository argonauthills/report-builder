<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
        <style>
            /* RESET */
            html {
                font-family: 'Open Sans', sans-serif;
                color: #231f20;  /*black*/
                /* apply a natural box layout model to all elements, but allowing components to change */
                box-sizing: border-box;
            }
            *, *:before, *:after {
                box-sizing: inherit;
            }

            td {
                padding:0;
            }

            /* UTILITIES */
            .no-page-break {
                 page-break-inside: avoid;
                 /*phantomjs doesn't respect this; we're using this and the pseudo-selector hack instead */
                display:inline-block;
            }
            .no-page-break:after {
                content: '';
                display:block;
                height:0px;
                visibility: hidden;
            }

            .stretch-width {
                width: 100%;
            }

            .page-margins {
                /*padding: 72px;*/
            }

            /* TEXT */
            .headline-text { font-size: 24px; }
            .headline-text-small { font-size:18px; }
            .large-text { font-size: 14px; }
            .medium-text { font-size: 12px; }
            .small-text { font-size: 10px; }

            .bold-text { font-weight: bold; }

            .center-text { text-align: center; }



            /* REPORT HEADER */
            .report-header {}
            .report-header-title {}
            .report-header-description {}

            /* REPORT KEY */
            .report-key {}
            .report-key-line {
                text-align: right;
            }
            .report-key-label {}
            .report-key-symbol-box {
                display: inline-block;
                position:relative;
                width:20px;
                height:20px;
            }
            .report-key-symbol {
                left: 50%;
            }

            /* REPORT SECTION */
            .report-section {}
            .report-section-header {}

            /* RESULTS */
            .results-table {
                font-size: 8pt;
                width:100%;
                border-collapse: collapse;
            }
            .results-table-header {}
            .results-table-labels-row {
                border-left: solid 1px #231f20;  /*black*/
                background-color: #d2d2d2; /*grey*/
            }
            .results-table-bottom-labels-row {
                height:30px;
            }
            .results-table-row {
                border-top: solid 1px #231f20;  /*black*/
                border-bottom: solid 1px #231f20;  /*black*/
            }

            .results-table-cell {
                border-right: solid 1px #231f20;  /*black*/
            }

            .question-cell-width {}
            .datum-cell-width {
                width: 100px;
            }
            .bar-chart-cell-width {
                width: 300px;
            }

            .normal-row-height {
                height: 40px;
            }
            .large-row-height {
                height: 60px;
            }


            /* BAR CHART */
            .bar-chart-box {
                height:100%;
                width:100%;
                position: relative;
                min-height: 10px;
            }
            .bar-chart {
                position: absolute;
                width:100%;
                height:10px;
                left:0;
                margin-top:-5px;
                top: 50%;
            }
            .bar-chart-bar {
                position:absolute;
                height:10px;
                left:0;
                top:0;
                bottom:0;
                background-color: #006795; /*blue*/
            }
            .bar-chart-symbol-1 {
                position:absolute;
                top:0;
                bottom:0;
                width:6px;
                margin-left:-3px;
                background-color: #231f20;  /*black*/
                border-left: 1px solid white;
                border-right: 1px solid white;
            }
            .bar-chart-symbol-2 {
                position:absolute;
                top:50%;
                width:6px;
                height:6px;
                margin-top:-3px;
                margin-left:-3px;
                background-color: #231f20;  /*black*/
                border-radius:3px;
            }
            .bar-chart-symbol-2-inner {
                position: absolute;
                top: 1px;
                left: 1px;
                right: 1px;
                bottom: 1px;
                border: 1px solid white;
                border-radius:2px;
                background-color: #c60c0b; /*red*/
            }

            /* TICK MARKS */

            .bar-chart-division {
                position:absolute;
                top:0;
                bottom:0;
                margin-left:-1px;
                border-left: 1px solid #d2d2d2; /*grey*/
                height:100%;
            }
            .bar-chart-division-label {
                position:absolute;
                top:0;
                left:-3px;
            }

        </style>
    </head>
    <body class="page-margins">
        <header class="report-header no-page-break stretch-width">
            <div class="headline-text bold-text report-header-title">
                {{report.header}}
            </title>
            <div class="large-text report-header-description">
                {{report.description}}
            </div>
        </header>

        {% for section in report.sections %}
        <section class="report-section no-page-break stretch-width">
            <section class="report-key">
                <div class="report-key-line">
                    <span class="medium-text">Industry Norm</span>
                    <span class="report-key-symbol-box"><div class="report-key-symbol bar-chart-symbol-1"></div></span>
                </div>
                <div class="report-key-line">
                    <span class="medium-text">Global Norm</span>
                    <span class="report-key-symbol-box"><div class="report-key-symbol bar-chart-symbol-2"><div class="bar-chart-symbol-2-inner"></div></div></span>
                </div>
            </section>
            <header class="report-section-header stretch-width">
                <table class="results-table stretch-width">
                    <tr class="results-table-row">
                        <td class="headline-text-small bold-text results-table-cell question-cell-width normal-row-height">{{section.header.description}}</td>
                        <td class="large-text bold-text results-table-cell datum-cell-width normal-row-height">{{section.header.orgScore.toFixed(2)}}</td>
                        <!-- <td class="datum-cell-width normal-row-height">{{section.header.industryNorm.toFixed(2)}}</td>
                        <td class="datum-cell-width normal-row-height">{{section.header.globalNorm.toFixed(2)}}</td> -->
                        <td class="results-table-cell bar-chart-cell-width normal-row-height">
                            <div class="bar-chart">
                                <div class="bar-chart-bar" style="width:{{100 * section.header.orgScore / section.header.scale}}%;"></div>
                                <div class="bar-chart-symbol-1" style="left:{{100 * section.header.industryNorm / section.header.scale}}%"></div>
                                <div class="bar-chart-symbol-2" style="left:{{100 * section.header.globalNorm / section.header.scale}}%"></div>
                                <div class="bar-chart-division"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </header>
            <table class="results-table stretch-width center-text">
                <tr class="results-table-row results-table-labels-row large-text bold-text">
                    <th class="results-table-cell question-cell-width large-row-height">{{section.header.description}}</th>
                    <th class="results-table-cell datum-cell-width large-row-height">{{section.orgScore.toFixed(2)}}</th>
                    <th class="results-table-cell datum-cell-width large-row-height">{{section.industryNorm.toFixed(2)}}</th>
                    <th class="results-table-cell datum-cell-width large-row-height">{{section.globalNorm.toFixed(2)}}</th>
                    <th class="results-table-cell bar-chart-cell-width large-row-height"></th>
                </tr>
                {% for question in section.questions %}
                <tr class="results-table-row medium-text">
                    <td class="results-table-cell question-cell-width normal-row-height small-text">{{question.description}}</td>
                    <td class="results-table-cell datum-cell-width normal-row-height">{{question.orgScore.toFixed(2)}}</td>
                    <td class="results-table-cell datum-cell-width normal-row-height">{{question.industryNorm.toFixed(2)}}</td>
                    <td class="results-table-cell datum-cell-width normal-row-height">{{question.globalNorm.toFixed(2)}}</td>
                    <td class="results-table-cell bar-chart-cell-width normal-row-height">
                        <div class="bar-chart-box">
                            <div class="bar-chart">
                                <div class="bar-chart-bar" style="width:{{100 * question.orgScore / question.scale}}%;"></div>
                                <div class="bar-chart-symbol-1" style="left:{{100 * question.industryNorm / question.scale}}%"></div>
                                <div class="bar-chart-symbol-2" style="left:{{100 * question.globalNorm / question.scale}}%"><div class="bar-chart-symbol-2-inner"></div></div>
                            </div>
                            {% for tick in tickMarks(question.scale) %}
                                <div class="bar-chart-division" style="left:{{tick.percentOfScale}}%"></div>
                            {% endfor %}
                        </div>
                    </td>
                </tr>
                {% endfor %}
                <tr class="results-table-bottom-labels-row">
                    <td ></td>
                    <td ></td>
                    <td ></td>
                    <td ></td>
                    <td class="bar-chart-cell-width" style="position:relative;">
                        {% for tick in tickMarkLabels(section.scale) %}
                            <label class="bar-chart-division-label" style="left:{{tick.percentOfScale}}%">{{tick.label}}</label>
                        {% endfor %}
                    </td>
                </tr>
            </table>
        </section>
        {% endfor %}
    </body>
</html>