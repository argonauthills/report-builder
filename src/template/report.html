<html>
    <head>
        <style>
            /* RESET */
            html {
                font-size: 8pt;
                /* apply a natural box layout model to all elements, but allowing components to change */
                box-sizing: border-box;
            }
            *, *:before, *:after {
                box-sizing: inherit;
            }

            /* UTILITIES */
            .no-page-break {
                 page-break-inside: avoid;
                 /*phantomjs doesn't respect this; we're using this and the pseudo-selector hack instead */
                display:inline-block;
            }
            .no-page-break:after {
                content: '';
                display:block;
                height:0px;
                visibility: hidden;
            }

            .stretch-width {
                width: 100%;
            }

            .page-margins {
                /*padding: 72px;*/
            }

            /* REPORT HEADER */
            .report-header {}
            .report-header-title {}
            .report-header-description {}

            /* REPORT SECTION */
            .report-section {}
            .report-section-header {}

            /* RESULTS */
            .results-table {
                font-size: 8pt;
                width:100%;
            }
            .results-table-header {}
            .results-table-row {}

            .question-cell-width {}
            .datum-cell-width {
                width: 100px;
            }
            .bar-chart-cell-width {
                width: 300px;
            }

            .normal-row-height {
                height: 40px;
            }
            .large-row-height {
                height: 60px;
            }


            /* BAR CHART */
            .bar-chart {
                position: relative;
                width:100%;
                height:100%;
            }
            .bar-chart-bar {
                position:absolute;
                left:0;
                top:5;
                bottom:5;
                background-color: blue;
            }
            .bar-chart-symbol-1 {
                position:absolute;
                top:5;
                bottom:5;
                width:20px;
                margin-left:-10px;
                background-color: black;
                border-left: 1px solid white;
                border-right: 1px solid white;
            }
            .bar-chart-symbol-2 {
                position:absolute;
                top:50%;
                width:10px;
                height:10px;
                margin-top:-5px;
                margin-left:-5px;
                background-color: red;
                border: 1px solid white;
                border-radius:5px;
            }
            .bar-chart-division {
                position:absolute;
                top:0;
                bottom:0;
                margin-left:-1px;
                border: 1px solid gray;
                height:100%;
            }
        </style>
    </head>
    <body class="page-margins">
        <header class="report-header no-page-break stretch-width">
            <div class="report-header-title">
                {{header}}
            </title>
            <div class="report-header-description">
                {{description}}
            </div>
        </header>

        {% for section in sections %}
        <section class="report-section no-page-break stretch-width">
            <header class="report-section-header stretch-width">
                <table class="results-table stretch-width">
                    <tr class="results-table-row">
                        <td class="question-cell-width normal-row-height">{{section.header.description}}</td>
                        <td class="datum-cell-width normal-row-height">{{section.header.orgScore.toFixed(2)}}</td>
                        <!-- <td class="datum-cell-width normal-row-height">{{section.header.industryNorm.toFixed(2)}}</td>
                        <td class="datum-cell-width normal-row-height">{{section.header.globalNorm.toFixed(2)}}</td> -->
                        <td class="bar-chart-cell-width normal-row-height">
                            <div class="bar-chart">
                                <div class="bar-chart-bar" style="width:{{100 * section.header.orgScore / section.header.scale}}%;"></div>
                                <div class="bar-chart-symbol-1" style="left:{{100 * section.header.industryNorm / section.header.scale}}%"></div>
                                <div class="bar-chart-symbol-2" style="left:{{100 * section.header.globalNorm / section.header.scale}}%"></div>
                                <div class="bar-chart-division"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </header>
            <table class="results-table stretch-width">
                <tr class="results-table-header">
                    <th class="question-cell-width large-row-height"></th>
                    <th class="datum-cell-width large-row-height"></th>
                    <th class="bar-chart-cell-width large-row-height"></th>
                </tr>
                {% for question in section.questions %}
                <tr class="results-table-row">
                    <td class="question-cell-width normal-row-height">{{question.description}}</td>
                    <td class="datum-cell-width normal-row-height">{{question.orgScore.toFixed(2)}}</td>
                    <td class="datum-cell-width normal-row-height">{{question.industryNorm.toFixed(2)}}</td>
                    <td class="datum-cell-width normal-row-height">{{question.globalNorm.toFixed(2)}}</td>
                    <td class="bar-chart-cell-width normal-row-height">
                        <div class="bar-chart">
                            <div class="bar-chart-bar" style="width:{{100 * question.orgScore / question.scale}}%;"></div>
                            <div class="bar-chart-symbol-1" style="left:{{100 * question.industryNorm / question.scale}}%"></div>
                            <div class="bar-chart-symbol-2" style="left:{{100 * question.globalNorm / question.scale}}%"></div>
                            <div class="bar-chart-division"></div>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </section>
        {% endfor %}
    </body>
</html>